<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Meal-Prep Plan — Woche 1</title>
  <style>
    :root{--bg:#fbfcfe;--card:#ffffff;--accent:#2b6cb0;--muted:#6b7280;--success:#16a34a}
    *{box-sizing:border-box}
    body{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial; margin:0; background:var(--bg); color:#0f172a; line-height:1.4}
    header{background:linear-gradient(90deg,var(--accent),#3b82f6); color:#fff; padding:20px}
    .container{max-width:980px;margin:18px auto;padding:0 16px}
    h1{margin:0;font-size:20px}
    .sub{opacity:.95;margin-top:6px;font-size:13px;color:rgba(255,255,255,.95)}
    .grid{display:grid;grid-template-columns:1fr 360px;gap:18px;margin-top:18px}
    @media (max-width:880px){.grid{grid-template-columns:1fr} .rightcol{order:2}}
    .card{background:var(--card);border-radius:12px;padding:14px;box-shadow:0 6px 18px rgba(11,22,39,.06)}
    h2{margin:0 0 8px 0;font-size:16px}
    p.small{margin:6px 0;color:var(--muted);font-size:13px}
    ul{padding-left:18px;margin:8px 0}

    /* Shopping list */
    .shop-actions{display:flex;gap:8px;flex-wrap:wrap;margin-bottom:8px}
    button.btn{background:var(--accent);color:#fff;border:0;padding:8px 12px;border-radius:8px;cursor:pointer}
    button.ghost{background:transparent;border:1px solid #e6eefc;color:var(--accent)}
    .shop-list{max-height:55vh;overflow:auto;padding-right:8px}
    .shop-item{display:flex;align-items:center;gap:10px;padding:8px;border-radius:8px}
    label.item{flex:1;display:flex;align-items:center;gap:10px}
    input[type=checkbox]{width:18px;height:18px}

    /* Recipe list */
    details{margin-bottom:10px}
    summary{cursor:pointer;font-weight:600;padding:8px 6px;border-radius:8px}
    .recipe-meta{display:flex;gap:12px;flex-wrap:wrap;font-size:13px;color:var(--muted);margin-top:6px}

    /* footer */
    footer{margin:28px 0 80px 0;text-align:center;color:var(--muted);font-size:13px}

    /* small helpers */
    .muted{color:var(--muted);font-size:13px}
    .pill{display:inline-block;padding:6px 8px;border-radius:999px;background:#eef2ff;color:var(--accent);font-weight:600;font-size:12px}
    .row{display:flex;gap:12px;align-items:center}
    pre{white-space:pre-wrap;background:#0f172a;color:#fff;padding:10px;border-radius:8px;font-size:13px}

    /* print */
    @media print{body{background:#fff} header, .shop-actions, button{display:none}}
  </style>
</head>
<body>
  <header>
    <div class="container">
      <h1>Meal-Prep Plan — Woche 1</h1>
      <div class="sub">~2000 kcal/Tag • 3× vorkochen • 3 Portionen pro Gericht (du + 2× Frau)</div>
    </div>
  </header>

  <main class="container">
    <div class="grid">
      <div class="leftcol">

        <section class="card">
          <h2>Kurzübersicht</h2>
          <p class="small">Ziel: Fett verlieren &amp; Muskeln aufbauen — proteinreich, einfache Rezepte, mobile-friendly.</p>
          <div class="recipe-meta">
            <div class="pill">3× Kochen/Woche</div>
            <div class="pill">Frühstück: Overnight Oats</div>
            <div class="pill">Flat White täglich</div>
          </div>
        </section>

        <section class="card" style="margin-top:12px">
          <h2>Meal-Prep Ablauf</h2>
          <ul>
            <li><strong>Sonntag:</strong> Overnight Oats + Hähnchen mit Brokkoli &amp; Reis (für Mo/Di)</li>
            <li><strong>Mittwoch:</strong> Rinder-Linsen-Eintopf (für Do/Fr)</li>
            <li><strong>Freitag:</strong> Kichererbsen-Bowl (für Sa/So)</li>
          </ul>
          <p class="muted">Mittwoch brauchst du kein Mittag — bei der Arbeit.</p>
        </section>

        <section class="card" style="margin-top:12px">
          <h2>Rezepte &amp; Zubereitung</h2>

          <details open>
            <summary>Frühstück — Overnight Oats (3–4 Tage)</summary>
            <div class="muted">50–60 g Hafer, 200 ml Milch, 150 g Skyr, Chia, Banane/Beeren</div>
            <ol>
              <li>Alle Zutaten in einem Glas mischen.</li>
              <li>Über Nacht (≥6 h) in den Kühlschrank stellen.</li>
              <li>Morgens umrühren, Nüsse/Beeren drauf.</li>
            </ol>
          </details>

          <details>
            <summary>Hähnchen mit Brokkoli &amp; Reis (3 Portionen)</summary>
            <div class="muted">500 g Hähnchen, 300 g Reis (roh), 500 g Brokkoli</div>
            <ol>
              <li>Reis nach Packung kochen.</li>
              <li>Brokkoli dämpfen oder in Wasser 5–7 min garen.</li>
              <li>Hähnchen würfeln, mit Sojasoße, Knoblauch &amp; Pfeffer 10 min marinieren.</li>
              <li>In Pfanne mit 1 EL Öl 8–10 min braten, mit Brokkoli und Reis in Boxen verteilen.</li>
            </ol>
            <p class="muted">Haltbarkeit: 3 Tage im Kühlschrank oder einfrieren.</p>
          </details>

          <details>
            <summary>Rinderhack mit Belugalinsen &amp; Paprika (3 Portionen)</summary>
            <div class="muted">500 g Rinderhack, 200 g Belugalinsen (trocken), 2 Paprika</div>
            <ol>
              <li>Linsen 18–22 min in Salzwasser garen, abgießen.</li>
              <li>Zwiebeln &amp; Paprika anbraten, Rinderhack dazu geben und krümelig braten.</li>
              <li>Linsen und 1 Dose gehackte Tomaten zugeben, mit Kreuzkümmel, Paprika, Chili abschmecken, 10 min köcheln lassen.</li>
            </ol>
            <p class="muted">Tipp: Passt super zu Reis oder Vollkornbrot. Haltbarkeit: 4 Tage oder einfrieren.</p>
          </details>

          <details>
            <summary>Kichererbsen-Bowl mit Gemüse &amp; Joghurt-Dip (3 Portionen)</summary>
            <div class="muted">400 g Kichererbsen (Dose), 200 g Quinoa/Couscous, Zucchini, Karotte</div>
            <ol>
              <li>Quinoa/Couscous kochen.</li>
              <li>Gemüse würfeln, 8–10 min anbraten, Kichererbsen und Mais dazugeben.</li>
              <li>Joghurt + Zitronensaft + Knoblauch zu einem Dip verrühren.</li>
              <li>Bowl zusammenstellen, warm oder kalt essen.</li>
            </ol>
          </details>

          <details>
            <summary>Abendessen-Ideen (flexibel)</summary>
            <ul>
              <li>Omelette mit Bohnen &amp; Gemüse</li>
              <li>Vollkornbrot mit Hähnchenaufschnitt &amp; Tomate</li>
              <li>Proteinshake + Nüsse</li>
            </ul>
          </details>

        </section>

        <section class="card" style="margin-top:12px">
          <h2>Tipps</h2>
          <ul>
            <li>Boxen luftdicht verschließen — heiß nie direkt in den Kühlschrank.</li>
            <li>Variiere Gewürze, um Geschmack zu verändern (Erdnusssoße, Chili, Zitronensaft).</li>
            <li>Nutze TK-Gemüse für weniger Vorbereitungsaufwand.</li>
          </ul>
        </section>

      </div>

      <aside class="rightcol card">
        <h2>Einkaufsliste</h2>
        <p class="small">Hake Artikel ab — dein Status wird im Browser gespeichert.</p>

        <div class="shop-actions">
          <button class="btn" id="saveBtn">Speichern</button>
          <button class="btn" id="clearBtn">Alle löschen</button>
          <button class="ghost" id="exportBtn">Exportieren (CSV)</button>
        </div>

        <div class="shop-list" id="shopList">
          <!-- generated list -->
        </div>

        <hr style="margin:14px 0" />
        <h3 style="margin:6px 0">Schnellübersicht</h3>
        <ul style="margin:8px 0;color:var(--muted);font-size:14px">
          <li>Sonntag: Hähnchen &amp; Oats vorbereiten</li>
          <li>Mittwoch: Rind-Linsen kochen</li>
          <li>Freitag: Kichererbsen-Bowl</li>
        </ul>
      </aside>

    </div>

    <footer>
      <div>Viel Erfolg mit deinem Meal-Prep! — (Speichert lokal im Browser, keine Daten werden gesendet.)</div>
    </footer>
  </main>

  <script>
    // Einkaufsliste — Grundlage aus dem Plan
    const items = [
      {cat:'Kohlenhydrate & Grund', name:'Haferflocken (500 g)'},
      {cat:'Kohlenhydrate & Grund', name:'Chiasamen (100 g)'},
      {cat:'Kohlenhydrate & Grund', name:'Milch oder Hafermilch (2 l)'},
      {cat:'Kohlenhydrate & Grund', name:'Reis (1 kg)'},
      {cat:'Kohlenhydrate & Grund', name:'Quinoa/Couscous (500 g)'},
      {cat:'Kohlenhydrate & Grund', name:'Belugalinsen (200 g)'},
      {cat:'Kohlenhydrate & Grund', name:'Kichererbsen (2 Dosen)'},
      {cat:'Kohlenhydrate & Grund', name:'Bohnen (1 Dose)'},
      {cat:'Proteine', name:'Hähnchenbrust (1 kg)'},
      {cat:'Proteine', name:'Mageres Rinderhack (500 g)'},
      {cat:'Proteine', name:'Eier (10 Stk)'},
      {cat:'Proteine', name:'Skyr / Joghurt (1 kg)'},
      {cat:'Gemüse & Obst', name:'Brokkoli (1 kg, frisch oder TK)'},
      {cat:'Gemüse & Obst', name:'Paprika (3 Stk)'},
      {cat:'Gemüse & Obst', name:'Zucchini (2 Stk)'},
      {cat:'Gemüse & Obst', name:'Karotten (2 Stk)'},
      {cat:'Gemüse & Obst', name:'Zwiebeln (4 Stk)'},
      {cat:'Gemüse & Obst', name:'Knoblauch (1 Knolle)'},
      {cat:'Konserven', name:'Tomaten (1 Dose gehackt)'},
      {cat:'Konserven', name:'Mais (1 Dose)'},
      {cat:'Obst', name:'Banane, Beeren, Äpfel (nach Geschmack)'},
      {cat:'Obst', name:'Zitronen (1–2 Stk)'},
      {cat:'Sonstiges', name:'Sojasoße' },
      {cat:'Sonstiges', name:'Sesamöl / Olivenöl'},
      {cat:'Sonstiges', name:'Gewürze: Salz, Pfeffer, Paprika, Kreuzkümmel, Chili'},
      {cat:'Sonstiges', name:'Nüsse (Mandeln/Walnüsse)'},
      {cat:'Getränke', name:'Kaffee für Flat White'}
    ];

    const shopListEl = document.getElementById('shopList');
    const STORAGE_KEY = 'mealprep_shop_v1';

    function renderList(){
      shopListEl.innerHTML = '';
      const grouped = items.reduce((acc,it)=>{(acc[it.cat]||(acc[it.cat]=[])).push(it);return acc},{ });
      for(const cat of Object.keys(grouped)){
        const h = document.createElement('div');
        h.style.padding='8px 6px';
        h.innerHTML = `<strong style="font-size:13px">${cat}</strong>`;
        shopListEl.appendChild(h);
        grouped[cat].forEach((it,idx)=>{
          const row = document.createElement('div'); row.className='shop-item';
          const id = `item-${cat.replace(/[^a-z0-9]/gi,'')}-${idx}`;
          const label = document.createElement('label'); label.className='item';
          label.htmlFor = id;
          const cb = document.createElement('input'); cb.type='checkbox'; cb.id=id;
          const span = document.createElement('span'); span.textContent = it.name;
          label.appendChild(cb); label.appendChild(span);
          row.appendChild(label);
          shopListEl.appendChild(row);
        });
      }
      loadState();
    }

    function saveState(){
      const boxes = Array.from(shopListEl.querySelectorAll('input[type=checkbox]'));
      const data = boxes.map(b=>b.checked);
      localStorage.setItem(STORAGE_KEY, JSON.stringify(data));
      flash('Gespeichert');
    }
    function loadState(){
      const raw = localStorage.getItem(STORAGE_KEY);
      const boxes = Array.from(shopListEl.querySelectorAll('input[type=checkbox]'));
      if(!raw) return;
      try{
        const data = JSON.parse(raw);
        boxes.forEach((b,i)=>{b.checked = !!data[i];});
      }catch(e){console.warn(e)}
    }

    function clearAll(){
      const boxes = shopListEl.querySelectorAll('input[type=checkbox]');
      boxes.forEach(b=>b.checked=false);
      localStorage.removeItem(STORAGE_KEY);
    }

    function exportCSV(){
      const boxes = Array.from(shopListEl.querySelectorAll('input[type=checkbox]'));
      const rows = [];
      let i = 0;
      for(const cat of Array.from(new Set(items.map(it=>it.cat)))){
        rows.push([cat,'']);
        const group = items.filter(it=>it.cat===cat);
        group.forEach(g=>{
          rows.push([g.name, boxes[i] && boxes[i].checked ? '✓' : '']);
          i++;
        });
      }
      const csv = rows.map(r=>r.map(c=>`"${String(c).replace(/"/g,'""')}"`).join(',')).join('\n');
      const blob = new Blob([csv],{type:'text/csv;charset=utf-8;'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a'); a.href=url; a.download='einkaufsliste.csv'; a.click(); URL.revokeObjectURL(url);
    }

    function flash(msg){
      const el = document.createElement('div');
      el.textContent = msg; el.style.position='fixed'; el.style.right='16px'; el.style.bottom='16px'; el.style.background='rgba(11,22,39,.9)'; el.style.color='#fff'; el.style.padding='8px 12px'; el.style.borderRadius='8px'; el.style.zIndex=9999; document.body.appendChild(el);
      setTimeout(()=>el.style.opacity='0',1100); setTimeout(()=>el.remove(),1500);
    }

    // attach events
    document.getElementById('saveBtn').addEventListener('click',saveState);
    document.getElementById('clearBtn').addEventListener('click',()=>{clearAll(); flash('Alle abgehakt-Status entfernt');});
    document.getElementById('exportBtn').addEventListener('click',exportCSV);

    renderList();

    // auto-save on checkbox toggle
    shopListEl.addEventListener('change',()=>{saveState();});

  </script>
</body>
</html>
